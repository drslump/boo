<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Duck Typing - Boo documentation</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Duck Typing";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Boo documentation</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Primer</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Starting-Out/">Starting Out</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Variables/">Variables</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Conditionals/">Conditionals</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Loops/">Loops</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Containers-and-Casting/">Containers and Casting</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Operators/">Operators</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Functions/">Functions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Classes/">Classes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Methods/">Methods</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Polymorphism/">Polymorphism</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Structs/">Structs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Namespaces/">Namespaces</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Enumerations/">Enumerations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Functions-as-objects/">Functions as objects</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Generators/">Generators</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Macros/">Macros</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Duck-typing/">Duck typing</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Using-the-compiler/">Using the compiler</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Structure-of-a-project/">Structure of a project</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Documentation/">Documentation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Primer/Useful-Links/">Useful Links</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Language Guide</span></li>

        
            
    <ul class="subnav">
    <li><span>Basic Features</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Structure-of-a-Boo-Script/">Structure of a Boo Script</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Import/">Import</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Comments/">Comments</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Builtin-Functions/">Builtin Functions</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Using .NET's Standard Class Library</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Developing-in-Net/">Developing in Net</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../String-operations/">String operations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Triple-Quoted-Strings/">Triple Quoted Strings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Regular-Expressions/">Regular Expressions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../XML-Serialization/">XML Serialization</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Generics/">Generics</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Procedural Programming</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Functions/">Functions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Parameters/">Parameters</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Loops/">Loops</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Exception-Handling/">Exception Handling</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Closures/">Closures</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Generators/">Generators</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Types and Structures</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Data-Types/">Data Types</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Type-Inference/">Type Inference</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Casting-Types/">Casting Types</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Duck Typing</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#duck-typing">Duck Typing</a></li>
                
            
                <li class="toctree-l3"><a href="#implicit-duck-typing-option-ducky">Implicit Duck Typing Option (-ducky)</a></li>
                
            
                <li class="toctree-l3"><a href="#advanced-intercept-duck-typed-method-calls-using-iquackfu">Advanced: intercept duck typed method calls using IQuackFu</a></li>
                
            
                <li class="toctree-l3"><a href="#cls-compliance">CLS Compliance</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Callable-Types/">Callable Types</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Events/">Events</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Structs/">Structs</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Literals/">Literals</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Lists-and-Arrays/">Lists and Arrays</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Multidimensional-Arrays/">Multidimensional Arrays</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Hashtables/">Hashtables</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Slicing/">Slicing</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Object Oriented features</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Classes/">Classes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Fields-and-Properties/">Fields and Properties</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Interfaces/">Interfaces</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Operator-Overloading/">Operator Overloading</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Enums/">Enums</a>
        
    </li>

        
    </ul>

        
            
    <ul class="subnav">
    <li><span>Advanced Features</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Macros/">Macros</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Syntactic-Macros/">Syntactic Macros</a>
        
    </li>

        
    </ul>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Micellanea</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../faq/">Faq</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Boo documentation</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Types and Structures &raquo;</li>
        
      
    
    <li>Duck Typing</li>
    <li class="wy-breadcrumbs-aside">
      
        
          <a href="https://github.com/drslump/boo" class="icon icon-github"> Edit on GitHub</a>
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h3 id="duck-typing">Duck Typing</h3>
<p>Boo is a statically typed language, like Java or C#. This means your boo applications will run about as fast as those coded in other statically typed languages for .NET or Mono. But using a statically typed language sometimes constrains you to an inflexible and verbose coding style, with the sometimes necessary type declarations (like "x as int", but this is not often necessary due to boo's <a href="https://github.com/bamboo/boo/wiki/Type-Inference">Type Inference</a>) and sometimes necessary type casts (see <a href="https://github.com/bamboo/boo/wiki/Casting-Types">Casting Types</a>). Boo's support for <a href="https://github.com/bamboo/boo/wiki/Type-Inference">Type Inference</a> and eventually generics help here, but...</p>
<p>Sometimes it is appropriate to give up the safety net provided by static typing. Maybe you just want to explore an API without worrying too much about method signatures or maybe you're creating code that talks to external components such as COM objects. Either way the choice should be yours not mine.</p>
<p>Along with the normal types like object, int, string...boo has a special type called "duck". The term is inspired by the ruby programming language's duck typing feature ("If it walks like a duck and quacks like a duck, it must be a duck").</p>
<p>If you declare an object as type duck or cast to type duck (or turn on the implicit duck typing option, see below), then boo will not try to resolve any methods or operations you call on that object at compile time. Instead it will convert those operations into methods that do not resolve until runtime. So at compile time it simply trusts that you know what you are doing ("it walks like a duck so it must be a duck"). This is easier to understand by looking at some examples.</p>
<p><strong>Illustrative Example: Static vs Duck Types</strong></p>
<p>This code illustrates some things you can do with duck types that you can't with static types (unless you add in casting, see <a href="https://github.com/bamboo/boo/wiki/Casting-Types">Casting Types</a>).</p>
<pre><code class="boo">static1 as int  //type is fixed to be an integer
dynamic1 as duck //can be anything

static1 = 0
dynamic1 = 0
print static1+1 //-&gt; 1
print dynamic1+1 //-&gt; 1

#static1 = &quot;Some string&quot; //error, cannot convert string to int
dynamic1 = &quot;Some string&quot; //dynamic1 can be &quot;any&quot; type of thing

#print static1.ToUpper() //error, static1 is an int, not a string
print dynamic1.ToUpper() //-&gt; SOME STRING

//You can convert a static type to a dynamic duck type:
dynamic2 as duck = static1
print dynamic2 //-&gt; 0
dynamic2 = &quot;Some string&quot;
print dynamic2.ToUpper() //-&gt; SOME STRING

//or convert a dynamic type to a static type
static2 as string = dynamic1
print static2.ToUpper()

#static3 as int = dynamic1 //error, cannot cast string to int
#print static3 + 2
</code></pre>

<p>If it helps, whenever you see "duck", think "any" or "anything". That object can be anything, and I can do whatever to it since it is duck typed and not static typed.</p>
<p><strong>A Practical Example: Automating Internet Explorer via COM Interop</strong></p>
<pre><code class="boo">import System.Threading

def CreateInstance(progid):
   type = System.Type.GetTypeFromProgID(progid)
   return type()

ie as duck = CreateInstance(&quot;InternetExplorer.Application&quot;)
ie.Visible = true
ie.Navigate2(&quot;http://www.go-mono.com/monologue/&quot;)

Thread.Sleep(50ms) while ie.Busy

document = ie.Document
print &quot;$(document.title) is $(document.fileSize) bytes long.&quot;
</code></pre>

<p>See also how the example would look <a href="https://github.com/bamboo/boo/wiki/without-duck-typing">without duck typing</a>.</p>
<h3 id="implicit-duck-typing-option-ducky">Implicit Duck Typing Option (-ducky)</h3>
<p>You can replace "ie as duck" in the internet explorer example with "ie" and still have it run if you turn on the implicit duck typing option. See also the examples in the <a href="https://github.com/bamboo/boo/tree/master/tests/testcases/ducky">tests/testcases/ducky/</a> folder.</p>
<p>You can set this option in various ways depending on which tool you are using:
<em> For the booi.exe and booc.exe command line tools, add a "-ducky" option when running those tools on the command line.
</em> In the Boo <a href="https://github.com/bamboo/boo/wiki/Interactive-Interpreter">Interactive Interpreter</a>, implicit duck typing is turned on by default. You can turn it off by typing "interpreter.Ducky = false".
* In the <a href="https://github.com/bamboo/boo/wiki/Boo-AddIn-For-SharpDevelop">Boo AddIn For SharpDevelop</a> its off by default, but you'll see a "duck typing by default" option by selecting from the menu Project -&gt; Project Options, selecting the Compiling tab, and then clicking on the configurations for your debug and release builds.</p>
<p>What this option does is basically make anything that is of type "object" be of type "duck" instead.</p>
<p>Turning on the ducky option allows you to more quickly test out code, and makes coding in boo feel much more like coding in Python. However, it slows down the speed of your application due to not using static typing. So when you are done testing, you may wish to turn the ducky option back off and add in various type declarations and casts. See <a href="https://github.com/bamboo/boo/wiki/Casting-Types">Casting Types</a>.</p>
<p>Regular <a href="https://github.com/bamboo/boo/wiki/Type-Inference">Type Inference</a> is still in effect even when the ducky option is turned on, so if you declare "x = 4", then x is still an int. This allows your code to still be convertible to run without the ducky option by adding in the appropriate type declarations and casts.</p>
<h3 id="advanced-intercept-duck-typed-method-calls-using-iquackfu">Advanced: intercept duck typed method calls using IQuackFu</h3>
<p>See</p>
<ul>
<li><a href="https://github.com/bamboo/boo/wiki/Dynamic-Inheritance---fun-with-IQuackFu">Dynamic Inheritance - fun with IQuackFu</a></li>
<li><a href="https://github.com/bamboo/boo/blob/master/tests/testcases/integration/duck-typing/duck-5.boo">duck-5.boo</a></li>
<li><a href="https://github.com/bamboo/boo/blob/master/examples/duck-typing/XmlObject.boo">XmlObject.boo</a></li>
</ul>
<p>The -ducky option now automatically treats any class that implements the IQuackFu interface as a duck type too.</p>
<h3 id="cls-compliance">CLS Compliance</h3>
<p>Your compiled assembly will still be CLS compliant (usable from other languages) if you use duck types. "Duck" is only a virtual type during the compile process. Duck types are converted into regular, CLS-compliant "object" types in the assembly. Again, see what the IE example looks like <a href="https://github.com/bamboo/boo/wiki/without-duck-typing">without duck typing</a> to get an idea of how the compiler converts your code. Also, IQuackFu is a regular interface. Not special at all except to the boo compiler.</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Callable-Types/" class="btn btn-neutral float-right" title="Callable Types"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Casting-Types/" class="btn btn-neutral" title="Casting Types"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
      <p>Copyright &copy; 2015, Boo authors</p>
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../Casting-Types/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Callable-Types/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
